(this.webpackJsonplolstats_web=this.webpackJsonplolstats_web||[]).push([[0],{106:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(8),c=t.n(o),i=(t(80),t(49)),s=t(13),l=t.n(s),m=t(135),u=t(136),d=t(132),h=t(110),f=t(131),v=t(138),p=t(137),g=t(133),w=t(134),E=l()((function(e){return{root:{padding:"8px"},currPlayer:{background:function(e){return e.background},padding:"8px"}}}));function S(e){var a=E({background:e.isCurrPlayer?e.win?"linear-gradient(45deg, #64b5f6 0%, white 70%)":"linear-gradient(45deg, #e57373 0%, white 70%)":null}),t=(100*e.performance).toFixed(1)+"%";return r.a.createElement("div",{className:a.currPlayer},r.a.createElement(f.a,{container:!0,spacing:2},r.a.createElement(f.a,{item:!0,xs:4,sm:4},r.a.createElement(d.a,{variant:"body1"},e.summoner)),r.a.createElement(f.a,{item:!0,xs:4,sm:4},r.a.createElement(d.a,{variant:"body1"},e.champion)),r.a.createElement(f.a,{item:!0,xs:4,sm:4},r.a.createElement(d.a,{variant:"body1"},t))))}var b=l()((function(e){return{root:{}}}));function y(e){var a=b(),t=e.team.players,n=e.team.win,o=t.map((function(a){return r.a.createElement(S,{key:a.summoner,summoner:a.summoner,champion:a.champion,performance:a.performance,isCurrPlayer:e.searchSummoner===a.summoner,win:n})}));return r.a.createElement("div",{className:a.root},r.a.createElement(d.a,{variant:"h5"},e.name," - ",n?"Win":"Loss"),o)}var x=l()((function(e){return{root:{}}}));function k(e){var a=x();return r.a.createElement("div",{className:a.root},r.a.createElement(g.a,null,r.a.createElement(w.a,null,r.a.createElement(d.a,{variant:"h3"},e.win?"Victory":"Defeat"),r.a.createElement(f.a,{container:!0,spacing:4},r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(y,{team:e.redTeam,name:"Red Team",searchSummoner:e.searchSummoner})),r.a.createElement(f.a,{item:!0,xs:12,sm:6},r.a.createElement(y,{team:e.blueTeam,name:"Blue Team",searchSummoner:e.searchSummoner}))))))}var N=l()((function(e){return{root:{},matchContainer:{padding:"10px"}}}));function T(e){var a=N(),t=e.matches.map((function(t){for(var n=!1,o=0;o<t.redTeam.players.length;++o)if(t.redTeam.players[o].summoner===e.searchSummoner){n=!0;break}return r.a.createElement("div",{key:t.id,className:a.matchContainer},r.a.createElement(k,{win:n&&t.redTeam.win||!n&&!t.redTeam.win,searchSummoner:e.searchSummoner,redTeam:t.redTeam,blueTeam:t.blueTeam}))}));return r.a.createElement("div",null,t)}var W=l()((function(e){return{root:{},header:{margin:"40px auto"},title:{},textField:{width:"100%"},contentView:{},summonerStatsPaper:{},loadingView:{},pastSearchButton:{}}}));function O(){var e,a=W(),t=Object(n.useState)(""),o=Object(i.a)(t,2),c=o[0],s=o[1],l=Object(n.useState)(!1),g=Object(i.a)(l,2),w=g[0],E=g[1],S=Object(n.useState)(null),b=Object(i.a)(S,2),y=b[0],x=b[1];function k(){if(0!==c.length){var e=c,a=JSON.parse(localStorage.getItem("searchHistory"));(a=a||{})[e]?a[e]+=1:a[e]=1,localStorage.setItem("searchHistory",JSON.stringify(a)),E(!0);var t=new URLSearchParams;t.append("summoner",encodeURIComponent(c)),t.append("num_matches","5");var n=window.location.protocol+"//"+window.location.host+"/analyze?".concat(t.toString());fetch(n).then((function(e){return e.json()})).then((function(a){a.currSearchName=e,x(a)})).catch((function(e){x(null),console.log("Got error: "+e)})).finally((function(){E(!1)}))}}if(w)e=r.a.createElement(m.a,{className:a.loadingView,maxWidth:"xs"},r.a.createElement(u.a,{variant:"indeterminate"}),r.a.createElement(d.a,{variant:"caption"},"Loading..."));else if(y)e=r.a.createElement(h.a,{className:a.summonerStatsPaper},r.a.createElement(T,{matches:y.matches,searchSummoner:y.currSearchName}));else{var N=JSON.parse(localStorage.getItem("searchHistory"));N=N||{};var O=Object.entries(N).sort((function(e,a){return a[1]-e[1]})).map((function(e){return e[0]})).slice(0,5).map((function(e){return r.a.createElement(f.a,{item:!0,xs:"auto",key:e},r.a.createElement(v.a,{className:a.pastSearchButton,variant:"outlined",onClick:function(){s(e),k()}},e))}));e=r.a.createElement(m.a,{maxWidth:"sm"},r.a.createElement(f.a,{container:!0,spacing:3},O))}return r.a.createElement("div",{className:a.root},r.a.createElement(m.a,{className:a.header,maxWidth:"sm"},r.a.createElement(d.a,{className:a.title,variant:"h1",align:"center"},"LOLStats"),r.a.createElement(p.a,{className:a.textField,label:"Summoner Name",value:c,autoFocus:!0,onChange:function(e){s(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(c.length>0&&k(),e.preventDefault())}})),r.a.createElement(m.a,{className:a.contentView,maxWidth:"xl"},e))}var j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(105);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");j?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):C(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):C(a,e)}))}}()},75:function(e,a,t){e.exports=t(106)},80:function(e,a,t){}},[[75,1,2]]]);
//# sourceMappingURL=main.fda94e2c.chunk.js.map